<%@ page contentType="text/html;charset=UTF-8" language="java" %><%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %><%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %><!DOCTYPE html><html lang="en"><head>  <title>Pulse Gym | Admin Billing Dashboard</title>  <!-- Bootstrap CSS -->  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">  <!-- Font Awesome -->  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">  <!-- Google Fonts -->  <link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet">  <link href="https://fonts.googleapis.com/css?family=Oswald:700&display=swap" rel="stylesheet">  <style>    body {      background: #15171b;      color: #e0e0e0;      font-family: 'Poppins', sans-serif;    }    .navbar {      background: #181c23;      border-bottom: 2px solid #1e7a53;    }    .navbar-brand {      font-family: 'Oswald', sans-serif;      font-size: 2rem;      color: #1e7a53 !important;    }    .dashboard-container {      margin-top: 40px;      margin-bottom: 40px;    }    .card {      background: #1a1d22;      border-radius: 1rem;      box-shadow: 0 4px 24px rgba(30,122,83,0.08);      color: #e0e0e0;    }    .card-header {      background: #181c23;      color: #1e7a53;      font-weight: bold;      font-size: 1.2rem;      border-bottom: 1px solid #1e7a53;    }    .table {      color: #e0e0e0;    }    .table th {      background: #181c23;      color: #1e7a53;      border-bottom: 2px solid #1e7a53;    }    .table-striped > tbody > tr:nth-of-type(odd) {      background-color: #17191d;    }    .btn-pulse {      background: #1e7a53;      color: #e0e0e0;      border: none;      font-weight: bold;      transition: background 0.2s;    }    .btn-pulse:hover {      background: #27ef8c;      color: #181c23;    }    .alert-success {      background: #1e7a53;      color: #e0e0e0;      border: none;    }    .alert-danger {      background: #8c2327;      color: #e0e0e0;      border: none;    }    .badge.bg-success {      background: #206a45 !important;      color: #e0e0e0;    }    .badge.bg-warning {      background: #6a5f20 !important;      color: #e0e0e0;    }    .badge.bg-danger {      background: #8c2327 !important;      color: #e0e0e0;    }    /* Responsive */    @media (max-width: 991px) {      .dashboard-container {        flex-direction: column;      }      .stats, .payments {        width: 100% !important;        margin-bottom: 20px;      }    }  </style></head><body><!-- Navbar --><nav class="navbar navbar-expand-lg navbar-dark">  <div class="container">    <a class="navbar-brand" href="#">Pulse Gym</a>    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">      <span class="navbar-toggler-icon"></span>    </button>    <div class="collapse navbar-collapse" id="navbarNav">      <ul class="navbar-nav ms-auto">        <li class="nav-item"><a class="nav-link" href="index.jsp">Home</a></li>        <li class="nav-item"><a class="nav-link" href="dashboard.jsp">Dashboard</a></li>        <li class="nav-item"><a class="nav-link" href="logout">Logout</a></li>      </ul>    </div>  </div></nav><div class="container dashboard-container d-flex gap-4">  <!-- Stats Card -->  <div class="card stats flex-shrink-0" style="width: 350px;">    <div class="card-header"><i class="fas fa-chart-bar"></i> Statistics</div>    <div class="card-body">      <p class="mb-3"><i class="fas fa-hourglass-half text-warning"></i> Payments in queue: <span class="fw-bold">${queueSize}</span></p>      <a href="payments/process" class="btn btn-pulse w-100 mb-2"><i class="fas fa-play"></i> Process Next Payment</a>    </div>  </div>  <!-- Payments Table -->  <div class="card payments flex-grow-1">    <div class="card-header"><i class="fas fa-money-check-alt"></i> Recent Payments</div>    <div class="card-body">      <c:if test="${not empty paymentSuccess}">        <div class="alert alert-success"><i class="fas fa-check-circle"></i> ${paymentSuccess}</div>      </c:if>      <c:if test="${not empty paymentError}">        <div class="alert alert-danger"><i class="fas fa-exclamation-triangle"></i> ${paymentError}</div>      </c:if>      <div class="table-responsive">        <table class="table table-striped align-middle">          <thead>          <tr>            <th>Payment ID</th>            <th>Date</th>            <th>Member ID</th>            <th>Amount</th>            <th>Method</th>            <th>Status</th>          </tr>          </thead>          <tbody>          <c:forEach var="payment" items="${allPayments}">            <tr>              <td>${payment.paymentId}</td>              <td><fmt:formatDate value="${payment.paymentDate}" pattern="yyyy-MM-dd HH:mm" /></td>              <td>${payment.memberId}</td>              <td><fmt:formatNumber value="${payment.amount}" type="currency"/></td>              <td>${payment.paymentMethod}</td>              <td>                                <span class="badge                                    <c:choose>                                        <c:when test="${payment.status eq 'Completed'}">bg-success</c:when>                                        <c:when test="${payment.status eq 'Pending'}">bg-warning</c:when>                                        <c:otherwise>bg-danger</c:otherwise>                                    </c:choose>                                ">                                    ${payment.status}                                </span>              </td>            </tr>          </c:forEach>          </tbody>        </table>      </div>    </div>  </div></div><!-- Footer --><footer class="text-center py-4" style="background: #181c23; color: #1e7a53;">  <div class="container">    <span>&copy; 2025 Pulse Gym. All rights reserved.</span>  </div></footer><!-- Bootstrap JS --><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script></body></html>