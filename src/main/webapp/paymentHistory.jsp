<%@ page contentType="text/html;charset=UTF-8" language="java" %><%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %><%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %><!DOCTYPE html><html lang="en"><head>  <title>Pulse Gym | Payment History</title>  <!-- Bootstrap CSS -->  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">  <!-- Font Awesome -->  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">  <!-- Google Fonts -->  <link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet">  <link href="https://fonts.googleapis.com/css?family=Oswald:700&display=swap" rel="stylesheet">  <style>    body {      background: #15171b;      color: #e0e0e0;      font-family: 'Poppins', sans-serif;    }    .navbar {      background: #181c23;      border-bottom: 2px solid #1e7a53;    }    .navbar-brand {      font-family: 'Oswald', sans-serif;      font-size: 2rem;      color: #1e7a53 !important;    }    .history-container {      max-width: 1100px;      margin: 48px auto 0 auto;      background: #1a1d22;      padding: 32px;      border-radius: 1rem;      box-shadow: 0 4px 24px rgba(30,122,83,0.08);    }    h1 {      font-family: 'Oswald', sans-serif;      color: #1e7a53;      text-align: center;      margin-bottom: 32px;    }    .table {      color: #e0e0e0;      background: #181c23;    }    .table th {      background: #181c23;      color: #1e7a53;      border-bottom: 2px solid #1e7a53;    }    .table-striped > tbody > tr:nth-of-type(odd) {      background-color: #17191d;    }    .badge.bg-success {      background: #206a45 !important;      color: #e0e0e0;    }    .badge.bg-warning {      background: #6a5f20 !important;      color: #e0e0e0;    }    .badge.bg-danger {      background: #8c2327 !important;      color: #e0e0e0;    }    .btn-pulse {      background: #1e7a53;      color: #e0e0e0;      border: none;      font-weight: bold;      transition: background 0.2s;    }    .btn-pulse:hover {      background: #27ef8c;      color: #181c23;    }    .alert-success {      background: #1e7a53;      color: #e0e0e0;      border: none;    }    .alert-danger {      background: #8c2327;      color: #e0e0e0;      border: none;    }    a, a:visited {      color: #27ef8c;      text-decoration: underline;    }    a:hover {      color: #1e7a53;    }    /* Responsive */    @media (max-width: 991px) {      .history-container {        padding: 16px;      }      .table-responsive {        font-size: 0.95rem;      }    }  </style></head><body><!-- Navbar --><nav class="navbar navbar-expand-lg navbar-dark">  <div class="container">    <a class="navbar-brand" href="#">Pulse Gym</a>    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">      <span class="navbar-toggler-icon"></span>    </button>    <div class="collapse navbar-collapse" id="navbarNav">      <ul class="navbar-nav ms-auto">        <li class="nav-item"><a class="nav-link" href="index.jsp">Home</a></li>        <li class="nav-item"><a class="nav-link" href="dashboard.jsp">Dashboard</a></li>        <li class="nav-item"><a class="nav-link" href="logout">Logout</a></li>      </ul>    </div>  </div></nav><div class="history-container">  <h1><i class="fas fa-history"></i> Payment History</h1>  <c:if test="${not empty paymentSuccess}">    <div class="alert alert-success mb-3"><i class="fas fa-check-circle"></i> ${paymentSuccess}</div>  </c:if>  <c:if test="${not empty paymentError}">    <div class="alert alert-danger mb-3"><i class="fas fa-exclamation-triangle"></i> ${paymentError}</div>  </c:if>  <div class="table-responsive">    <table class="table table-striped align-middle">      <thead>      <tr>        <th>Payment ID</th>        <th>Date</th>        <th>Amount</th>        <th>Method</th>        <th>Description</th>        <th>Status</th>        <c:if test="${role eq 'admin'}">          <th>Member ID</th>          <th>Actions</th>        </c:if>      </tr>      </thead>      <tbody>      <c:forEach var="payment" items="${payments}">        <tr>          <td>${payment.paymentId}</td>          <td><fmt:formatDate value="${payment.paymentDate}" pattern="yyyy-MM-dd HH:mm" /></td>          <td><fmt:formatNumber value="${payment.amount}" type="currency"/></td>          <td>${payment.paymentMethod}</td>          <td>${payment.description}</td>          <td>                        <span class="badge                            <c:choose>                                <c:when test="${payment.status eq 'Completed'}">bg-success</c:when>                                <c:when test="${payment.status eq 'Pending'}">bg-warning</c:when>                                <c:otherwise>bg-danger</c:otherwise>                            </c:choose>                        ">                            ${payment.status}                        </span>          </td>          <c:if test="${role eq 'admin'}">            <td>${payment.memberId}</td>            <td>              <a href="payments/update?id=${payment.paymentId}" class="me-2"><i class="fas fa-edit"></i> Edit</a>              <a href="payments/delete?id=${payment.paymentId}"                 onclick="return confirm('Are you sure you want to delete this payment?')"><i class="fas fa-trash"></i> Delete</a>            </td>          </c:if>        </tr>      </c:forEach>      </tbody>    </table>  </div>  <c:if test="${role ne 'admin'}">    <div class="text-end mt-3">      <a href="payments/create" class="btn btn-pulse"><i class="fas fa-plus"></i> Make New Payment</a>    </div>  </c:if></div><!-- Footer --><footer class="text-center py-4 mt-5" style="background: #181c23; color: #1e7a53;">  <div class="container">    <span>&copy; 2025 Pulse Gym. All rights reserved.</span>  </div></footer><!-- Bootstrap JS --><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script></body></html>